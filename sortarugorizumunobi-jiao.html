<!DOCTYPE html>
<html lang="japanese">
<head>
        <meta charset="utf-8" />
        <title>Sortアルゴリズムの比較</title>
        <link rel="stylesheet" href="https://sassea34.github.io/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://sassea34.github.io/">sassea34's blog </a></h1>
                <nav><ul>
                    <li class="active"><a href="https://sassea34.github.io/category/algorithm.html">Algorithm</a></li>
                    <li><a href="https://sassea34.github.io/category/deep-learning.html">Deep Learning</a></li>
                    <li><a href="https://sassea34.github.io/category/dl-viewer.html">DL Viewer</a></li>
                    <li><a href="https://sassea34.github.io/category/game-make.html">Game Make</a></li>
                    <li><a href="https://sassea34.github.io/category/python.html">Python</a></li>
                </ul>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://sassea34.github.io/sortarugorizumunobi-jiao.html" rel="bookmark"
           title="Permalink to Sortアルゴリズムの比較">Sortアルゴリズムの比較</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <span>水 14 8月 2019</span>

</footer><!-- /.post-info -->      <h1>Sortアルゴリズムの勉強</h1>
<h2>目的</h2>
<ul>
<li>Sortアルゴリズムを改めて勉強する。<ul>
<li>参考書籍「プログラミングコンテスト攻略のためのアルゴリズムとデータ構造」</li>
</ul>
</li>
<li>一覧化／およびPythonでコーディングして知識整理を行い、再コーディング時に自走出来るようにする。</li>
</ul>
<hr>
<h2>アルゴリズム一覧</h2>
<table>
<thead>
<tr>
<th align="right">No</th>
<th>アルゴリズム</th>
<th>方法</th>
<th>特徴</th>
<th>ソート完了タイミング</th>
<th>外ループ i の方向性</th>
<th>内ループ j の方向性</th>
<th>オーダー</th>
<th>安定か？</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">1</td>
<td>Insertion Sort</td>
<td>注目セルの代入箇所を確認し、トランプを先頭から並べるかのように挿入していく。</td>
<td>ある程度整列されたデータに対しては高速<br>(比較演算がデータ依存)<hr>操作済みの部分に絞ってはソート済みの状態が出来る。</td>
<td>最後</td>
<td>左から右（正順）<hr><span class="math">\(1{\leqq}i{\leqq}N-1\)</span><br><span class="math">\(i++\)</span></td>
<td>iを保存、i-1から左へ。（挿入箇所を探索して入れ替え）<hr><span class="math">\(i-1{\geqq}j{\geqq}0\)</span><br><span class="math">\(j--\)</span></td>
<td><span class="math">\(O(n^2)\)</span></td>
<td>安定</td>
</tr>
<tr>
<td align="right">2</td>
<td>Bubble Sort</td>
<td>未整列の残り部分の末端から先頭へ、隣同士の２つのセルを比較し、小値であれば２つを交換していく。</td>
<td>交換回数は反転数、転倒数と呼ばれ、列の乱れの具合を表す。</td>
<td>先頭から確定</td>
<td>右から左（逆順）<hr><span class="math">\(N-1{\geqq}i{\geqq}1\)</span><br>increment無し</td>
<td>内ループ無し</td>
<td><span class="math">\(O(n^2)\)</span></td>
<td>安定</td>
</tr>
<tr>
<td align="right">3</td>
<td>Selection Sort</td>
<td>最小のセルを抽出しながら、先頭と置き換えていく。</td>
<td>離れた対象を比較、入れ替えるため安定ではない</td>
<td>先頭から確定</td>
<td>左から右（正順）<hr><span class="math">\(0{\leqq}i{\leqq}N-1\)</span><br><span class="math">\(i++\)</span></td>
<td>左から右（正順）<hr><span class="math">\(i+1{\leqq}j{\leqq}N-1\)</span><br><span class="math">\(j++\)</span></td>
<td><span class="math">\(O(n^2)\)</span></td>
<td>安定では無い</td>
</tr>
<tr>
<td align="right">4</td>
<td>Shell Sort</td>
<td>対象の数列をある数値間隔 <span class="math">\(g\)</span> で飛ばした数列とみなして、Insertion Sortをラフに行う。<br>上記をInsertion Sortの上位ループとして繰り返すことで、全体としての計算量を抑制するやり方。</td>
<td>gの与え方はm段階だと（任意に）設定する。<br>例えば段階の数<span class="math">\(m=3\)</span>のとき、<span class="math">\(G_i=\{13,4,1\}\)</span>のように<span class="math">\(g_{n+1}=3*g_n+1\)</span>として与える。最後の<span class="math">\(G_{m-1}\)</span>は必ず1である必要がある。<br>この与え方で、オーダーが<span class="math">\(O(n^{1.25})\)</span>になることが予測されている。</td>
<td>最後</td>
<td>Insertion Sortを <span class="math">\(g\)</span> 拡張し、上位ループを左記の<span class="math">\(G_i\)</span>により回す。</td>
<td>略（内部ループとしてはInsertion Sortとも位置付けられるか）</td>
<td><span class="math">\(O(n^{1.25})\)</span></td>
<td>安定では無い<hr>未検証。予想として間隔<span class="math">\(g\)</span>で飛ばしたソートを含むため。</td>
</tr>
</tbody>
</table>
<h3>No4 Shell Sortについて</h3>
<ul>
<li>これだけ考え方が難しいが、きっと以下の考え方で合っている？！<ol>
<li><code>対象の数列をある数値間隔 g で飛ばした数列とみなして</code>の部分は、Insertion Sortの内部における、外ループ i（No1を参照）のそれぞれのiの界が独立だと考えられる。<ul>
<li>究極はここをマルチスレッド化しても良い？</li>
</ul>
</li>
<li>よって、Insertion Sortの<code>ある程度整列されたデータに対しては高速</code>である特性を活かすために、以下を変数とする知見が必要になるのでは無いか？<ul>
<li>どれだけ大きな数列に対し</li>
<li>どれだけラフに上記表中の <span class="math">\(G_i=\{13,4,1\}\)</span> を設定するか（もちろん<span class="math">\(m\)</span>もいくつに設定するか）<ul>
<li><span class="math">\(g_{n+1}=3*g_n+1\)</span> の <code>+1</code>がきっと重要（＝ずらす意味が）あるのだろう。<ul>
<li><span class="math">\(g_{n+1}=3*g_n+1\)</span> の導出に関しては、今はこれ以上は疑問を持たないこととする。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<hr>
<h2>Python Coding Tips</h2>
<ol>
<li>マルチライン入力<ul>
<li>AIZU ONLINE JUDGEの例題を利用したため、マルチライン入力を受け付けるコードが必要となった。</li>
<li>以下で、1行目に数列の数、2行目に数列を空白区切りで入力して受け付ける。</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># input by multi-line</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</code></pre></div>


<ol>
<li>アルファベット1文字＋数字1文字のデータの分解<ul>
<li><code>H9</code>などを2次元のlistで扱うコード。dictionaryよりlistで扱ったほうが入れ替えが出来て楽。</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># input by multi-line</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
    <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
    <span class="n">B</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="n">mark</span><span class="p">,</span> <span class="n">num</span><span class="p">]</span> <span class="k">for</span> <span class="n">mark</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="p">]</span>
</code></pre></div>


<ol>
<li>listの要素の置換<ul>
<li>超基本ではあるけれど...</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div>


<ol>
<li>listを空白区切りで出力<ul>
<li>入力と同様の形式での標準出力</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">A</span><span class="p">)))</span>
</code></pre></div>


<hr>
<h2>まとめ</h2>
<h3>学習したこと</h3>
<ol>
<li>書籍に従い、4つのアルゴリズムを整理することは出来た。</li>
<li>扱った中ではShell Sortが、オーダーが良いので使えると良いか？（多分、まだメリットデメリットが分かっていないかも）</li>
<li>プログラミングに慣れる意味では、ソートアルゴリズムは良いかもしれないし、真にはもっと深いらしい。</li>
</ol>
<h3>残課題</h3>
<ul>
<li>WiKi参考に、まだ独自実装できていないソート。</li>
<li>うち赤字は何となく手を出したい気がするもの。<ul>
<li>交換<ul>
<li>シェーカーソート</li>
<li>コムソート</li>
<li>ノームソート</li>
<li>奇遇転置ソート</li>
<li>シェアソート</li>
</ul>
</li>
<li>挿入<ul>
<li>２分木ソート（平衡２分探索木）</li>
<li>図書館ソート</li>
<li>ペイシェンスソート</li>
</ul>
</li>
<li>マージ<ul>
<li><font color="red">マージソート</font><ul>
<li>分解と併合によるもの。</li>
</ul>
</li>
<li>In-placeマージソート</li>
</ul>
</li>
<li>選択<ul>
<li><font color="red">ヒープソート</font><ul>
<li>二分木を使う。</li>
</ul>
</li>
<li>スムースソート</li>
<li>ストランドソート</li>
</ul>
</li>
<li>パーティショニング<ul>
<li><font color="red">クイックソート</font><ul>
<li>ピボットで分割、中央値等の工夫。</li>
</ul>
</li>
</ul>
</li>
<li>混成<ul>
<li>イントロソート</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>以上</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/sassea34">GitHub</a></li>
                            <li><a href="http://www.z-z.jp/?sassea34">Message board</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

</body>
</html>